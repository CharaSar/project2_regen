#drop database regen_efka;

#create database regen_efka char set utf8mb4 collate utf8mb4_unicode_ci;
#use regen_efka;

#drop table if exists account;
create table account(
    account_id int(10) unsigned not null auto_increment,
    username varchar(50) not null unique,
    password char(64) not null,
    primary key(account_id)
) Engine=InnoDB default charset=utf8mb4;

#drop table if exists specialty;
create table specialty(
    specialty_id int(10) unsigned not null auto_increment,
    specialty varchar(50) not null,
    primary key(specialty_id)
)Engine=InnoDB default charset=utf8mb4;

#drop table if exists citizen;
create table citizen(
    citizen_id int(10) unsigned not null auto_increment,
    ssn varchar(11) not null unique,
    firstname varchar(50) not null,
    lastname varchar(50) not null,
    email varchar(255) not null unique,
    phone varchar(15) not null unique,
    account_id int(10) unsigned not null,
    unique key(account_id),
    primary key(citizen_id),
    foreign key(account_id) references account(account_id)
)Engine=InnoDB default charset=utf8mb4;


#drop table if exists doctor;
create table doctor(
    doctor_id int(10) unsigned not null auto_increment,
    firstname varchar(50) not null,
    lastname varchar(50) not null,
    phone varchar(50) not null unique,
    account_id int(10) unsigned not null,
    specialty_id int(10) unsigned not null,
    unique key(account_id),
    primary key(doctor_id),
    foreign key(account_id) references account(account_id),
    foreign key(specialty_id) references specialty(specialty_id)
)Engine=InnoDB default charset=utf8mb4;

#drop table if exists appointment;
create table appointment(
    appointment_id int(10) unsigned not null auto_increment,
    appointment_date date not null,
    appointment_time time not null,
    illness_history text,
    notes text,
    doctor_id int(10) unsigned not null,
    citizen_id int(10) unsigned not null,
    primary key(appointment_id),
    foreign key(doctor_id) references doctor(doctor_id),
    foreign key(citizen_id) references citizen(citizen_id)
)Engine=InnoDB default charset=utf8mb4;
